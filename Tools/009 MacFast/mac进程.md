

# mds_stores 进程CPU飙升

```sh
# 完全打开 Spotlight 搜索索引功能
$ sudo mdutil -a -i on
# 完全关闭 Spotlight 搜索索引功能
$ sudo mdutil -a -i off
```

## 命令解释

`$ sudo mdutil -a -i off` 是一个在 macOS 系统中用来**完全关闭 Spotlight 搜索索引功能**的命令。下面这个表格能帮你快速了解这个命令的各个部分：

| 命令组成部分 | 功能解释                                                    |
| :----------- | :---------------------------------------------------------- |
| `sudo`       | 获取管理员权限，执行需要特权的操作。                        |
| `mdutil`     | macOS 中管理 Spotlight 索引的工具。                         |
| `-a`         | 对所有 (all) 的 APFS 卷宗（包括启动盘和外接硬盘）进行操作。 |
| `-i off`     | 将索引 (indexing) 功能关闭 (off)。                          |

## 命令的作用与影响

- **主要目的**：执行此命令会**立即停止** macOS 系统自带的 Spotlight 在所有磁盘上的索引进程（如 `mds` 和 `mdworker`）。这在索引进程因文件量巨大或系统异常导致 CPU 占用率极高、系统卡顿甚至风扇狂转时，可以作为一种**立竿见影的补救措施**。

- **带来的影响**：一旦关闭，**Spotlight 的搜索功能将基本失效**。通过 `Command + 空格` 快捷键调出的搜索框将无法找到你的应用程序、文档、邮件等任何内容。同时，一些依赖 Spotlight 索引的第三方效率工具（如 Alfred）也可能无法正常工作。
